@model IEnumerable<LitmusWeb.Models.TwoHourlyAnalysisModel>
@using System.Web.Optimization
@{
    ViewBag.Title = "Two Hourly Anaysis Details";
}
@*@Styles.Render("~/Bundles/scriptbundle_datatable")*@
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>@ViewBag.Title</title>
    <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
    <script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>
    <!-- plugins:css -->
    <link rel="stylesheet" href="~/Content/mainContent/vendors/mdi/css/materialdesignicons.min.css">
    <link rel="stylesheet" href="~/Content/mainContent/vendors/css/vendor.bundle.base.css">
    <!-- endinject -->
    <!-- plugin css for this page -->
    <link rel="stylesheet" href="~/Content/mainContent/vendors/dropzone/dropzone.css">
    <link rel="stylesheet" href="~/Content/mainContent/vendors/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="~/Content/mainContent/vendors/jquery-bar-rating/bars-1to10.css">
    <link rel="stylesheet" href="~/Content/mainContent/vendors/jquery-bar-rating/bars-horizontal.css">
    <link rel="stylesheet" href="~/Content/mainContent/vendors/jquery-bar-rating/bars-movie.css">
    <link rel="stylesheet" href="~/Content/mainContent/vendors/jquery-bar-rating/bars-pill.css">
    <link rel="stylesheet" href="~/Content/mainContent/vendors/jquery-bar-rating/bars-reversed.css">
    <link rel="stylesheet" href="~/Content/mainContent/vendors/jquery-bar-rating/bars-square.css">
    <link rel="stylesheet" href="~/Content/mainContent/vendors/jquery-bar-rating/bootstrap-stars.css">
    <link rel="stylesheet" href="~/Content/mainContent/vendors/jquery-bar-rating/css-stars.css">
    <link rel="stylesheet" href="~/Content/mainContent/vendors/jquery-bar-rating/examples.css">
    <link rel="stylesheet" href="~/Content/mainContent/vendors/jquery-bar-rating/fontawesome-stars-o.css">
    <link rel="stylesheet" href="~/Content/mainContent/vendors/jquery-bar-rating/fontawesome-stars.css">
    <link rel="stylesheet" href="~/Content/mainContent/vendors/jquery-asColorPicker/css/asColorPicker.min.css">
    <link rel="stylesheet" href="~/Content/mainContent/vendors/x-editable/bootstrap-editable.css">
    <link rel="stylesheet" href="~/Content/mainContent/vendors/bootstrap-datepicker/bootstrap-datepicker.min.css">
    <link rel="stylesheet" href="~/Content/mainContent/vendors/dropify/dropify.min.css">
    <link rel="stylesheet" href="~/Content/mainContent/vendors/jquery-file-upload/uploadfile.css">
    <link rel="stylesheet" href="~/Content/mainContent/vendors/jquery-tags-input/jquery.tagsinput.min.css">
    <link rel="stylesheet" href="~/Content/mainContent/vendors/tempusdominus-bootstrap-4/tempusdominus-bootstrap-4.min.css">
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" />
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.20/css/dataTables.jqueryui.min.css" />
    <link rel="stylesheet" href="https://cdn.datatables.net/scroller/2.0.1/css/scroller.jqueryui.min.css" />
    <!-- End plugin css for this page -->
    <!-- inject:css -->
    <link rel="stylesheet" href="~/Content/mainContent/css/vertical-layout-light/style.css">
    <!-- endinject -->
    <link rel="shortcut icon" href="~/Content/mainContent/images/favicon.png" />


    <!-- jQuery -->
    <!-- plugins:css -->
    <script src="~/Scripts/jquery-3.4.1.min.js" type="text/javascript"></script>
    <link rel="stylesheet" href="~/Content/mainContent/vendors/mdi/css/materialdesignicons.min.css">
    <link rel="stylesheet" href="~/Content/mainContent/vendors/base/vendor.bundle.base.css">
    <!-- endinject -->
    <!-- plugin css for this page -->
    <link rel="stylesheet" href="~/Content/mainContent/vendors/datatables.net-bs4/dataTables.bootstrap4.css">
    <!-- End plugin css for this page -->
    <!-- inject:css -->
    <link rel="stylesheet" href="~/Content/mainContent/css/style.css">
    <!-- endinject -->
    <link rel="shortcut icon" href="~/Content/mainContent/images/birla-favicon.ico" />
</head>
<body>
    <div class="col-lg-12 stretch-card">
        <div class="card">
            <div class="card-body">
                <h4 class="card-title">Hourly Analysis Data </h4>
                <p class="card-description">
                    Details
                </p>
                <div class="table-responsive pt-3">
                    <table id="AnalysisDataTable-Scrollable" class="table table-striped table-bordered nowrap">
                        <thead>
                            <tr>
                                <th colspan="54">
                                    <h2 class="text-warning">Shift Wise Averages</h2>
                                </th>
                            </tr>
                            <tr class="bg-primary text-white text-center">
                                <th>Unit Code</th>
                                <th>Season code</th>
                                <th>Shift code</th>
                                <th>NM PJ Brix</th>
                                <th>NM PJ Pol</th>
                                <th>NM MJ Brix</th>
                                <th>NM MJ Pol</th>
                                <th>NM LJ Brix</th>
                                <th>NM LJ Pol</th>
                                <th>OM PJ Brix</th>
                                <th>OM PJ Pol</th>
                                <th>OM MJ Brix</th>
                                <th>OM MJ Pol</th>
                                <th>OM LJ Brix</th>
                                <th>OM LJ Pol</th>
                                <th>Combined PJ Brix</th>
                                <th>Combined PJ Pol</th>
                                <th>Combined MJ Brix</th>
                                <th>Combined MJ Pol</th>
                                <th>Combined LJ Brix</th>
                                <th>Combined LJ Pol</th>
                                <th>Oliver Brix</th>
                                <th>Oliver Pol</th>
                                <th>Oliver Purity</th>
                                <th>Oliver pH</th>
                                <th>NM Bagasse Pol</th>
                                <th>NM Bagasse Moist</th>
                                <th>OM Bagasse Pol</th>
                                <th>OM Bagasse Moist</th>
                                <th>Comb. Bagasse Pol</th>
                                <th>Comb. Bagasse Moist</th>
                                <th>CJ Brix</th>
                                <th>CJ Pol</th>
                                <th>Cj Purity</th>
                                <th>CJ pH</th>
                                <th>Un-sul. Brix</th>
                                <th>Un-Sul Pol</th>
                                <th>Un-Sul Purity</th>
                                <th>Un-Sul pH</th>
                                <th>Sulp. Brix</th>
                                <th>Sulp. Pol</th>
                                <th>Sulp. Purity</th>
                                <th>Sulp. pH</th>
                                <th>F. Mol. Brix</th>
                                <th>F. Mol. Pol</th>
                                <th>F. Mol. Purity</th>
                                <th>PC Avg.</th>
                                <th>PC. 1</th>
                                <th>PC 2</th>
                                <th>PC 3</th>
                                <th>PC 4</th>
                                <th>PC 5</th>
                                <th>PC Composite</th>
                                <th>Total Juice</th>
                            </tr>
                        </thead>

                    </table>
                </div>
                <div class="table-responsive pt-3">
                    <table id="order-listing" class="table table-bordered table-striped">
                        <thead>
                            <tr class="bg-primary text-white text-center">
                                <th></th>
                                <th></th>
                                <th colspan="8">Primary Juice</th>
                                <th colspan="8">Mixed Juice</th>
                                <th colspan="6">Last Mill Juice</th>
                                <th colspan="4" rowspan="2">Oliver Filtered Juice</th>
                                <th colspan="4" rowspan="2">Filtrate Clerification System</th>
                                <th colspan="4" rowspan="2">Clear Juice</th>
                                <th colspan="4" rowspan="2">Un Sulphured</th>
                                <th colspan="4" rowspan="2">Slphured</th>
                                <th colspan="5" rowspan="2">Final Molasses</th>
                                <th colspan="4">Bagasse</th>
                                <th colspan="9" rowspan="2">Press Cake</th>
                            </tr>
                            <tr class="bg-primary text-white text-center">
                                <th></th>
                                <th></th>
                                <th colspan="4">New Mill</th>
                                <th colspan="4">Old Mill</th>

                                <th colspan="4">New Mill</th>
                                <th colspan="4">Old Mill</th>

                                <th colspan="3">New Mill</th>
                                <th colspan="3">Old Mill</th>
                                <!-- oliver rowspan is already 2 in above-->
                                <!-- FCS rowspan is already 2 in above-->
                                <!-- Clear Juice rowspan is already 2 in above-->
                                <!-- unsulphured rowspan is already 2 in above-->
                                <!-- sulphured rowspan is already 2 in above-->
                                <!-- final molasses rowspan is already 2 in above-->
                                <th colspan="2">New Mill</th>
                                <th colspan="2">Old Mill</th>
                                <!-- press cake rowspan is already 2 in above-->
                            </tr>
                            <tr class="bg-primary text-white text-center">
                                <th class="nowrap">Entry Date</th>
                                <th class="nowrap">Entry Time</th>
                                <!-- primary juice-->
                                <th class="nowrap">Brix</th>
                                <th class="nowrap">Pol</th>
                                <th class="nowrap">Purity</th>
                                <th class="nowrap">pH</th>

                                <th class="nowrap">Brix</th>
                                <th class="nowrap">Pol</th>
                                <th class="nowrap">Purity</th>
                                <th class="nowrap">pH</th>
                                <!-- /primary juice-->
                                <!-- Mix juice-->
                                <th class="nowrap">Brix</th>
                                <th class="nowrap">Pol</th>
                                <th class="nowrap">Purity</th>
                                <th class="nowrap">pH</th>

                                <th class="nowrap">Brix</th>
                                <th class="nowrap">Pol</th>
                                <th class="nowrap">Purity</th>
                                <th class="nowrap">pH</th>
                                <!-- /Mix juice-->
                                <!-- Last juice-->
                                <th class="nowrap">Brix</th>
                                <th class="nowrap">Pol</th>
                                <th class="nowrap">Purity</th>

                                <th class="nowrap">Brix</th>
                                <th class="nowrap">Pol</th>
                                <th class="nowrap">Purity</th>
                                <!-- /Last juice-->
                                <!-- Oliver-->
                                <th class="nowrap">Brix</th>
                                <th class="nowrap">Pol</th>
                                <th class="nowrap">Purity</th>
                                <th class="nowrap">pH</th>
                                <!-- /Oliver-->
                                <!-- FCS-->
                                <th class="nowrap">Brix</th>
                                <th class="nowrap">Pol</th>
                                <th class="nowrap">Purity</th>
                                <th class="nowrap">pH</th>
                                <!-- /FCS-->
                                <!-- Clear Juice-->
                                <th class="nowrap">Brix</th>
                                <th class="nowrap">Pol</th>
                                <th class="nowrap">Purity</th>
                                <th class="nowrap">pH</th>
                                <!-- /Clear Juice-->
                                <!-- unsulphured Juice-->
                                <th class="nowrap">Brix</th>
                                <th class="nowrap">Pol</th>
                                <th class="nowrap">Purity</th>
                                <th class="nowrap">pH</th>
                                <!-- /unsulphured Juice-->
                                <!-- sulphured Juice-->
                                <th class="nowrap">Brix</th>
                                <th class="nowrap">Pol</th>
                                <th class="nowrap">Purity</th>
                                <th class="nowrap">pH</th>
                                <!-- /sulphured Juice-->
                                <!-- Final Molasses Juice-->
                                <th class="nowrap">Brix</th>
                                <th class="nowrap">Pol</th>
                                <th class="nowrap">Purity</th>
                                <th class="nowrap">Temp.</th>
                                <th class="nowrap">Tanks</th>
                                <!-- /Final Molasses Juice-->
                                <!-- Bagasse-->
                                <th class="nowrap">Pol</th>
                                <th class="nowrap">Moisture</th>

                                <th class="nowrap">Pol</th>
                                <th class="nowrap">Moisture</th>
                                <!-- /Bagasse-->
                                <!-- Press Cake-->
                                <th class="nowrap">Sample-1</th>
                                <th class="nowrap">Sample-2</th>
                                <th class="nowrap">Sample-3</th>
                                <th class="nowrap">Sample-4</th>
                                <th class="nowrap">Sample-5</th>
                                <th class="nowrap">Sample-6</th>
                                <th class="nowrap">Average</th>
                                <th class="nowrap">Moisture</th>
                                <th class="nowrap">Composite</th>
                                <!-- /Press Cake-->

                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in Model)
                            {
                                <tr>
                                    <td class="nowrap">@item.Entry_Date.ToShortDateString()</td>
                                    <td class="nowrap">@item.entry_Time</td>
                                    <td class="nowrap">@item.NM_Primary_Juice_Brix</td>
                                    <td class="nowrap">@item.NM_Primary_juice_pol</td>
                                    <td class="nowrap">@item.nm_primary_juice_purity</td>
                                    <td class="nowrap">@item.nm_primary_juice_ph</td>

                                    <td class="nowrap">@item.om_primary_juice_brix</td>
                                    <td class="nowrap">@item.om_primary_juice_pol</td>
                                    <td class="nowrap">@item.om_primary_juice_purity</td>
                                    <td class="nowrap">@item.om_primary_juice_ph</td>

                                    <td class="nowrap">@item.nm_mixed_juice_brix</td>
                                    <td class="nowrap">@item.nm_mixed_juice_pol</td>
                                    <td class="nowrap">@item.nm_mixed_juice_purity</td>
                                    <td class="nowrap">@item.nm_mixed_juice_ph</td>

                                    <td class="nowrap">@item.om_mixed_juice_brix</td>
                                    <td class="nowrap">@item.om_mixed_juice_pol</td>
                                    <td class="nowrap">@item.om_mixed_juice_purity</td>
                                    <td class="nowrap">@item.om_mixed_juice_ph</td>

                                    <td class="nowrap">@item.nm_last_juice_brix</td>
                                    <td class="nowrap">@item.nm_last_juice_pol</td>
                                    <td class="nowrap">@item.nm_last_juice_purity</td>

                                    <td class="nowrap">@item.om_last_juice_brix</td>
                                    <td class="nowrap">@item.om_last_juice_pol</td>
                                    <td class="nowrap">@item.om_last_juice_purity</td>

                                    <td class="nowrap">@item.oliver_juice_brix</td>
                                    <td class="nowrap">@item.oliver_juice_pol</td>
                                    <td class="nowrap">@item.oliver_juice_purity</td>
                                    <td class="nowrap">@item.oliver_juice_ph</td>

                                    <td class="nowrap">@item.fcs_juice_brix</td>
                                    <td class="nowrap">@item.fcs_juice_pol</td>
                                    <td class="nowrap">@item.fcs_juice_purity</td>
                                    <td class="nowrap">@item.fcs_juice_ph</td>

                                    <td class="nowrap">@item.clear_juice_brix</td>
                                    <td class="nowrap">@item.clear_juice_pol</td>
                                    <td class="nowrap">@item.clear_juice_purity</td>
                                    <td class="nowrap">@item.clear_juice_ph</td>

                                    <td class="nowrap">@item.unsulphured_syrup_brix</td>
                                    <td class="nowrap">@item.unsulphured_syrup_pol</td>
                                    <td class="nowrap">@item.unsulphured_syrup_purity</td>
                                    <td class="nowrap">@item.unsulphured_syrup_ph</td>

                                    <td class="nowrap">@item.sulphured_syrup_brix</td>
                                    <td class="nowrap">@item.sulphured_syrup_pol</td>
                                    <td class="nowrap">@item.sulphured_syrup_purity</td>
                                    <td class="nowrap">@item.sulphured_syrup_ph</td>

                                    <td class="nowrap">@item.final_molasses_brix</td>
                                    <td class="nowrap">@item.final_molasses_pol</td>
                                    <td class="nowrap">@item.final_molasses_purity</td>
                                    <td class="nowrap">@item.final_molasses_temp</td>
                                    <td class="nowrap">@item.final_molasses_tanks</td>

                                    <td class="nowrap">@item.nm_bagasse_moisture</td>
                                    <td class="nowrap">@item.nm_bagasse_pol</td>
                                    <td class="nowrap">@item.om_bagasse_moisture</td>
                                    <td class="nowrap">@item.om_bagasse_pol</td>

                                    <td class="nowrap">@item.pol_pressure_cake_sample1</td>
                                    <td class="nowrap">@item.pol_pressure_cake_sample2</td>
                                    <td class="nowrap">@item.pol_pressure_cake_sample3</td>
                                    <td class="nowrap">@item.pol_pressure_cake_sample4</td>
                                    <td class="nowrap">@item.pol_pressure_cake_sample5</td>
                                    <td class="nowrap">@item.pol_pressure_cake_sample6</td>
                                    <td class="nowrap">@item.pol_pressure_cake_average</td>
                                    <td class="nowrap">@item.pol_pressure_cake_composite</td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    @Html.Partial("_PartialPageFooter")
    @*@Scripts.Render("~/Bundles/scriptBundle_initialScripts")*@
</body>
</html>
<script src="~/Scripts/jquery-3.4.1.min.js"></script>
<script src="~/Scripts/js/jquery.dataTables.js"></script>
<script src="~/Scripts/js/jquery.dataTables.js"></script>
<script src="https://cdn.datatables.net/1.10.20/js/dataTables.jqueryui.min.js"></script>
<script src="https://cdn.datatables.net/scroller/2.0.1/js/dataTables.scroller.min.js"></script>
<script>
    $(document).ready(function () {
        var selected_unit;
        selected_unit = @Session["BaseUnitCode"];
        $.ajax({
            type: "GET",
            url: "/api/TwoHourlySummary/TwoHourlySummaryByHours",
            data: { 'unitCode': selected_unit },
            contentType :"application/json",
            dataType: 'json',
            success: (data, txtStatus, jqXHR) => {
                if (jqXHR.status == 200) {
                    var row = '<tbody><tr>';
                    for (var i = 0; i <= 2; i++) {
                        $.each(data[i], function (index, value) {
                            row += '<td>' + value + '</td>';
                        });
                        row += '</tr>';
                        i = i++;
                    }
                    row += '</tbody>';
                    $("#AnalysisDataTable-Scrollable").append(row);
                } else {
                    console.log(jqXHR);
                }
            }, Error: (error) => {
                console.error(error);
            }
        });
    });

</script>