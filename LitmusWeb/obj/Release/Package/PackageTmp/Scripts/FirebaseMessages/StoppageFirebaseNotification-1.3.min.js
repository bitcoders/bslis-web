var millName = "New Mill", hours = 0, min = 0; $("#btnSubmit").click(function () { var a = $("#s_mill_code").text(); switch (a) { case 0: millName = "New Mill"; break; case 1: a = "Old Mill"; break; default: a = "Old Mill"; }$.isNumeric($("#s_duration").val()) ? stoppageClosed() : stoppageStart() }); function stoppageStart() { $.ajax({ url: "/api/FireBaseNotification/SendFirebaseNotification", method: "post", data: { MessageType: 3, UnitCode: $("#hiddenUnit").val(), Title: $(".unitName").text() + " - Stoppage Occured at " + millName, Body: "Stoppage Occured @ " + $("#s_start_time").val() + " due to  => " + $("#s_comment").val() + "\nStoppage Department => " + $("#s_head_name").val() + " (" + $("#s_sub_head_name").val() + ")" }, success: function (a) { console.log(a) }, error: function (a) { console.log(a) } }) } function stoppageClosed() { convertMinutesToHours($("#s_duration").val()), $.ajax({ url: "http://bslis.in:85/api/FireBaseNotification/SendFirebaseNotification", method: "post", data: { MessageType: 3, UnitCode: $("#hiddenUnit").val(), Title: $(".unitName").text() + " - " + millName + " Stoppage Ended! ", Body: millName + " started @ " + $("#s_end_time").val() + " Total Duration of stoppage is " + hours + " Hour " + min + " minute(s)\nReason of Stoppage was  => " + $("#s_comment").val() + ".\nStoppage Department => " + $("#s_head_name").val() + " (" + $("#s_sub_head_name").val() + ")" }, success: function (a) { console.log(a) }, error: function (a) { console.log(a) } }) } function convertMinutesToHours(a) { hours = (a / 60).toFixed(0), min = (a % 60).toFixed(0) }